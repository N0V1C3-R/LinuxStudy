# Linux基本知识
---
## 1. Linux目录结构
+ 1.1 基本介绍
  >Linux目录的文件系统是采用层级式的树状目录结构，再次结构中的最上层是根目录“**/**”，然后在此目录下再创建其他的目录
+ 1.2 具体的目录结构
  >+ **/bin** 【常用】 (**/usr/bin**、**/usr/local/bin**)<br>
  是Binary的缩写，这个目录存放着最经常使用的命令
  >+ **/sbin** (**/usr/sbin**、**/usr/local/sbin**)<br>
  s就是Super User的意思，这里存放的是系统管理员使用的系统管理命令
  >+ **/home** 【常用】<br>
  存放普通用户的主目录，在Linux中每一个用户都有自己的一个目录，一般该目录名世一用户的账号命名
  >+ **/root** 【常用】<br>
  该目录为系统管理员，也称作超级权限者的用户主目录
  >+ **/lib**<br>
  系统开机所需要的最基本的动态连接共享库，起作用类似于Windows的*DLL*文件，几乎所有的应用程序都要用到这些共享库
  >+ **/lost+found**<br>
  这个目录一般情况下是空的，当系统非法关机后，这里就存放了一些文件
  >+ **/etc** 【常用】<br>
  所有系统管理所需要的配置文件和子目录
  >+ **/usr** 【常用】<br>
  非常重要的目录，用户的很多应用文件都放在这个目录下，类似于Windows下的*program files*目录
  >+ **/boot** 【常用】<br>
  存放的是启动Linux时使用的一些核心文件，包括一些连接文件及镜像文件
  >+ **/proc** <br>
  这个目录是一个虚拟目录，他是系统内存的映射，访问这个目录来获取系统信息
  >+ **/src**<br>
  service的缩写，该目录存放一些服务启动之后需要提取的数据
  >+ **/sys**<br>
  这是Linux2.6内核的一个很大变化，该目录下安装了2.6内核中新出现的一个文件系统**sysfs**
  >+ **/tmp**<br>
  这个目录是用来存放一些临时文件的
  >+ **/dev**<br>
  类似于Windows的设备管理器，把所有的硬件用文件的形式存储
  >+ **/media** 【常用】<br>
  Linux系统会自动识别一些设备，例如U盘、光驱等等，当识别后，Linux会把识别的设备挂载到这个目录下
  >+ **/mnt** 【常用】<br>
  系统提供该目录是为了让用户临时挂载别的文件系统的，我们可以将外部存储挂载在/mnt上，然后进入该目录就可以查看里面的内容了
  >+ **/opt**<br>
  这是给主机额外安装软件所摆放的目录，默认为空
  >+ **/usr/local** 【常用】<br>
  这是另一个给主机额外安装软件所安装的目录。一般是通过编译源码方式安装的程序
  >+ **/var** 【常用】<br>
  这个目录中存放着不断扩充的东西，习惯将经常修改的目录放在这个目录下，包括各种日志文件
  >+ **/selinux** sercurity-enhanced linux<br>
  SELinux是一种安全子系统，它能控制程序只访问特定文件，有三种工作模式，可以自行设置
---
## 2. vi和vim
+ 2.1 vi和vim是什么？
  >+ vi时Linux系统内置的编辑器
  >+ vim具有程序编辑能力，可以看作是vi的增强版，可以主动的一字体颜色辨别语法的正确性，方便程序设计。代码补全、编译及错误跳转等方便编写的功能丰富，被广泛使用
+ 2.2 vi和vim常用的三种模式
  >+ **正常模式**<br>
  以vim打开一个文件就可以直接进入一般模式（默认模式）。在这个模式中，可以使用**↑ ↓ ← →**按键移动光标，可以使用~~删除字符~~或~~删除整行~~来处理文件内容，也可以使用*复制*、*粘贴*来处理文件数据
  >+ **插入模式**<br>
  按下**i**，**I**，**o**，**O**，**a**，**A**，**r**，**R**等任意一个字母之后才会进入编辑模式，一般使用**i**即可<br>
  在光标之前插入`i`<br>
  在光标所在行的行首插入`I`<br>
  在光标之后插入`a`<br>
  在光标所在行的行末插入`A`<br>
  在光标所在的行的上面插入一行`o`<br>
  在光标所在的行的下面插入一行`O`<br>
  删除光标后的一个字符，然后进入插入模式`s`<br>
  删除光标所在的行，然后进入插入模式`S`<br>
  替换光标所在位置单个字符`r`<br>
  替换光标所在位置之后多个字符`R`
  >+ **命令行模式**<br>
  提供相关指令完成**读取**、**存盘**、**替换**、**离开vim**、**显示行号**等动作<br>
  保存`:w`<br>
  另存为filename`:w filename`<br>
  保存退出`:wq`<br>
  以filename为文件名保存后退出`:wq filename`<br>
  不保存退出`:q!`
+ 2.3 快速入门编写*hello.java*文件
  >`vim hello.java` 创建/进入一个hello.java文件<br>
  `i` 切换为编辑模式<br>
  ```java
  public class hello {
      public static void main(String[] args) {
        System.out.println("Hello World!");
      }
  }
  ```
  >`esc`  切换为一般模式<br>
  `:`或`/`  切换为命令行模式<br>
  `wq`  保存并退出
+ 2.4 vi和vim基本快捷键
  >1. 拷贝当前行`yy`，拷贝当前行向下n行`n` + `yy`（正常模式）
  >2. 粘贴`p`（正常模式）
  >3. 删除当前行`dd`，删除当前行向下n行`n` + `dd`（正常模式）
  >4. 查找某个单词`/`+`关键字`， `Enter`查找，`n`查找下一个（命令行模式）
  >5. 设置文件的行号`:` + `set nu`（命令行模式）
  >6. 取消文件的行号`:` + `set nonu`（命令行模式）
  >7. 定位到文件末行`G`，首行`gg`（正常模式）
  >8. 撤销`u`（正常模式）
  >9. 定位到某一行`行号` + `shift` + `g`（正常模式）<br>
  ······
---
## 3. 开机、重启和用户登录与注销
+ 3.1 关机&重启命令
  >+ 基本介绍<br>
  立即进行关机`shutdown -h now`或`halt`<br>
  n分钟后关机`shutdown -h n分钟`<br>
  立即重启计算机`shutdown -r now`或`reboot`<br>
  将内存同步到磁盘`sync`
  >+ 注意细节<br>
  不管是重启系统还是关闭系统，**首先运行**`sync`，把内存中的数据写到磁盘当中，虽然目前各命令均已在关机前进行磁盘同步，但建议先进性`sync`防止出错 
+ 3.1 用户登录与注销
  >1. 登录时尽量**少**使用root账号登陆，因为它是系统管理员账户，拥有最大的权限，为了避免操作失误，可以利用普通用户登陆，登陆后再使用`su - 用户名`命令来切换身份
  >2. 在提示符下输入`logout`即可注销用户
  >3. 注意事项：logout注销指令在**图形运行级别**无效，在运行级别**3**下有效
---
## 4. 用户管理
+ 4.1 基本介绍
  >Linux系统是一个多用户多任务的操作系统，他任何一个需要使用系统资源的用户，都必须先向系统管理员申请一个账号，然后以这个账号的身份进入系统
+ 4.2 添加用户
  >+ 基本语法<br>
  `useradd 用户名`
  >+ 细节说明<br>
  创建用户成功后，会自动创建和用户同名的家目录，也可以通过`useradd -d 指定目录 用户名`，给新的用户指定家目录
+ 4.3 指定/修改密码
  >+ 基本语法<br>
  `passwd 用户名`
  >+ 注意事项<br>
  在实际生产工作中，密码尽可能复杂
  >+ 补充<br>
  `pwd`命令显示当前所在目录路径
+ 4.4 删除用户
  >+ 基本语法<br>
  `userdel 用户名` 删除用户但保留家目录<br>
  `userdel -r 用户名` 删除用户及用户主目录
  >+ 是否保留用户家目录？<br>
  一般情况下建议保留用户家目录，以防止重要文件保存在其家目录被误删
+ 4.5 查询用户信息
  >+ 基本语法<br>
  `id 用户名` 查询当前用户信息<br>
  `who am i` 查询当前登录用户信息
  >+ 细节说明<br>
  当用户不存在时，返回无此用户
+ 4.6 用户组（所属组）
  >+ 基本介绍<br>
  类似于角色，系统可以对有共性/权限的多个用户进行统一的管理
  >+ 新增组<br>
  `groupadd 组名`
  >+ 删除组<br>
  `groupdel 组名`<br>
  >+ 添加用户时分配所属组<br>
  `useradd -g 用户组 用户名`
  >+ 修改用户所属组<br>
  `usermod -g 用户组 用户名`
  >+ 注意事项<br>
  当创建用户时没有指定所属组时，系统会自动创建一个与用户同名的组，将用户添加到同名组中
+ 4.7 用户和组相关文件
  >+ **/etc.passwd**文件&emsp;&emsp;用户的配置文件<br>
  每行含义：**用户名:口令:用户标识号:组标识号:注释性描述:主目录:登录Shell**
  >+ **/etc/shadow**文件&emsp;&emsp;口令的配置文件<br>
  每行含义：**登录名:加密口令:密码最后一次修改时间:最小时间间隔:最大时间间隔:警告时间:不活动时间:失效时间:标志**
  >+ **/etc/group**文件&emsp;&emsp;组的配置文件，记录Linux包含的组的信息<br>
  每行含义：**组名:口令:组标识号:组内用户列表**
